<!-- Title: Rain City -->

<h3>Description</h3>

<p>
  The city of Bogor is known as the rain city because of its high frequency of rain.
  Therefore, Pak Dengklek has an idea to plant magical plants that sprout when exposed to rain.
</p>
<p>
  Pak Dengklek's field is in the shape of a square that contains $N \times N$ tiles, with $N$ rows (numbered from $1$ to $N$) and $N$ columns (numbered from $1$ to $N$).
  The tile located in the $i$-th row and the $j$-th column is notated as tile $(i, j)$.
  For each tile, Pak Dengklek can choose to plant zero or more magical plant seeds in that tile.
</p>
<p>
  However, there is a matrix $A$ of size $N \times N$ that denotes the following constraints:
</p>
<ul>
  <li>If $A_{i,j} \geq 0$, then tile $(i, j)$ must be planted with exactly $A_{i,j}$ seeds.</li>
  <li>If $A_{i,j} = -1$, then Pak Dengklek can choose any number of seeds to be planted in tile $(i, j)$.</li>
</ul>
<p>
  The rain that can happen in Pak Dengklek's field has a unique property.
  It will rain on exactly $N$ tiles that satisfy the two following conditions:
</p>
<ul>
  <li>For each row, there is exactly one tile that gets rained on.</li>
  <li>For each column, there is exactly one tile that gets rained on.</li>
</ul>
<p>
  Although the conditions above are known, the exact tiles that get rained on are not known.
</p>
<p>
  If it rains, then all seeds that are planted in the tiles which get rained on will sprout and become mature plants.
</p>
<p>
  Pak Dengklek wants to plant the magical plant seeds so that no matter how the rain rains on the field, the total number of seeds that sprout and become mature plants will always be the same.
  Calculate the number of different ways Pak Dengklek can plant the seeds!
  Since the answer can be very big, output the answer modulo $1\,000\,000\,007$.
  Of course, if there is no way to plant the seeds that satisfies the condition, the number of ways is $0$.
  In particular, if there is an infinite number of different ways, output <code>-1</code>.
</p>
<p>
  Note: two ways of planting are considered different if and only if there is at least one tile $(i, j)$ that is planted with different numbers of seeds in the two ways.
</p>

<h3>Constraints</h3>

<ul>
  <li>$2 \leq N \leq 1000$</li>
  <li>$-1 \leq A_{i,j} \leq 10^9$</li>
</ul>

<h3>Subtasks</h3>

<ol>
  <li>
    &nbsp;&nbsp;(5 points) Contains only the following test case:<br/>
    $N = 2$;<br/>
    $A = \begin{bmatrix} -1 &amp; 6 \\ 9 &amp; -1 \end{bmatrix}$
  </li>
  <li>&nbsp;&nbsp;(4 points) $N = 2$</li>
  <li>&nbsp;&nbsp;(7 points) $A_{i,j} = 0$ or $A_{i,j} = -1$</li>
  <li>&nbsp;&nbsp;(7 points) $N \leq 8$; $A_{i,j} \neq -1$</li>
  <li>&nbsp;&nbsp;(7 points) $N \leq 80$; $A_{i,j} \neq -1$</li>
  <li>&nbsp;&nbsp;(8 points) $A_{i,j} \neq -1$</li>
  <li>(12 points) $A_{i,j} = -1$ if and only if $i \neq j$; $A_{1, 1} = 0$</li>
  <li>(14 points) $A_{i,j} = -1$ if and only if $i \neq j$</li>
  <li>&nbsp;&nbsp;(8 points) $N \leq 5$; $A_{i,j} \leq 7$; there is at least one element $A_{i,j}$ with value $0$.</li>
  <li>(10 points) $N \leq 100$; $A_{i,j} \leq 100$; there is at least one element $A_{i,j}$ with value $0$.</li>
  <li>(12 points) There is at least one element $A_{i,j}$ with value $0$.</li>
  <li>&nbsp;&nbsp;(6 points) No additional constraints.</li>
</ol>

<h3>Input</h3>

<p>
  The input is given with the following format:
</p>
<pre>
N
A<sub>1,1</sub> A<sub>1,2</sub> &hellip; A<sub>1,N</sub>
A<sub>2,1</sub> A<sub>2,2</sub> &hellip; A<sub>2,N</sub>
︙       ⋱ ︙
A<sub>N,1</sub> A<sub>N,2</sub> &hellip; A<sub>N,N</sub>
</pre>

<h3>Output</h3>

<p>
  Output a single line containing an integer representing the number of different ways Pak Dengklek can plant the seeds that satisfy the condition, modulo $1\,000\,000\,007$.
  If there is an infinite number of different ways, output <code>-1</code>.
</p>

<h3>Sample Input 1</h3>

<pre>
3
-1 0 -1
4 -1 7
3 -1 -1
</pre>

<h3>Sample Output 1</h3>

<pre>
4
</pre>

<h3>Explanation of Sample 1</h3>

<p>
  The following is one of the ways to plant the seeds that satisfies the condition.
</p>
<p style="text-align: center;">
  <img src="render/sawah1.png" style="width: 200px;"/>
</p>
<p>
  The rain can rain on the field in $6$ different ways.
  If Pak Dengklek plants the seeds following the illustration above, no matter how the rain rains on the field, the total number of seeds that sprout and become mature plants is always $10$.
</p>
<p>
  <img src="render/sawah2.png" style=" width: 100%;"/>
</p>

<h3>Sample Input 2</h3>

<pre>
2
-1 1
2 -1
</pre>

<h3>Sample Output 2</h3>

<pre>
4
</pre>

<h3>Explanation of Sample 2</h3>

<p>
  The following are $4$ different ways to plant the seeds that satisfy the condition.
</p>
<p>
  <img src="render/sawah3.png" style="width: 100%; max-width: 500px;"/>
</p>

<h3>Sample Input 3</h3>

<pre>
2
-1 -1
-1 -1
</pre>

<h3>Sample Output 3</h3>

<pre>
-1
</pre>

<h3>Explanation of Sample 3</h3>

<p>
  There is an infinite number of different ways that satisfy the condition, so you need to output <code>-1</code>.
</p>

<h3>Sample Input 4</h3>

<pre>
2
2 6
5 265
</pre>

<h3>Sample Output 4</h3>

<pre>
0
</pre>

<h3>Explanation of Sample 4</h3>

<p>
  There is no way to plant the seeds that satisfies the condition.
</p>
