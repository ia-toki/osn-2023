<!-- Title: Kota Hujan -->

<h3>Deskripsi</h3>

<p>
  Kota Bogor terkenal sebagai kota hujan karena curah hujannya yang tinggi.
  Oleh karena itu, Pak Dengklek mempunyai ide untuk menanam tanaman ajaib yang tumbuh jika terkena hujan.
</p>
<p>
  Lahan Pak Dengklek berbentuk persegi yang berisi $N \times N$ petak, dengan $N$ baris (dinomori dari $1$ sampai $N$) dan $N$ kolom (dinomori dari $1$ sampai $N$).
  Petak yang terletak pada baris ke-$i$ dan kolom ke-$j$ dinotasikan sebagai petak $(i, j)$.
  Untuk masing-masing petak, Pak Dengklek bisa memilih untuk menanam nol atau lebih benih tanaman ajaib di petak itu.
</p>
<p>
  Namun, terdapat matriks $A$ yang berukuran $N \times N$ yang menotasikan batasan-batasan berikut:
</p>
<ul>
  <li>Jika $A_{i,j} \geq 0$, maka petak $(i, j)$ harus ditanami tepat $A_{i,j}$ benih.</li>
  <li>Jika $A_{i,j} = -1$, maka Pak Dengklek bisa memilih berapa pun benih yang ditanam di petak $(i, j)$.</li>
</ul>
<p>
  Hujan yang bisa terjadi pada lahan Pak Dengklek memiliki sifat yang unik.
  Hujan yang terjadi akan menghujani tepat $N$ petak dengan memenuhi kedua syarat berikut:
</p>
<ul>
  <li>Untuk setiap baris, ada tepat satu petak yang terkena hujan.</li>
  <li>Untuk setiap kolom, ada tepat satu petak yang terkena hujan.</li>
</ul>
<p>
  Walaupun diketahui syarat-syarat di atas, tepatnya petak yang mana saja yang akan terkena hujan tidak diketahui.
</p>
<p>
  Jika terjadi hujan, maka semua benih yang ditanam di petak-petak yang terkena hujan akan tumbuh menjadi tanaman dewasa.
</p>
<p>
  Pak Dengklek ingin menanam benih-benih tanaman ajaib supaya bagaimanapun hujan menghujani lahan, total banyaknya benih yang tumbuh menjadi tanaman dewasa selalu sama.
  Hitunglah banyaknya cara berbeda Pak Dengklek bisa menanam benih-benih tersebut!
  Karena jawabannya bisa sangat besar, keluarkan jawabannya modulo $1\,000\,000\,007$.
  Tentu saja, apabila tidak ada cara menanam benih yang memenuhi, banyaknya cara adalah $0$.
  Khususnya, jika terdapat tak hingga banyaknya cara berbeda, keluarkan <code>-1</code>.
</p>
<p>
  Catatan: dua cara penanaman dikatakan berbeda jika dan hanya jika ada setidaknya satu petak $(i, j)$ yang ditanami dengan banyaknya benih yang berbeda pada kedua cara tersebut.
</p>

<h3>Batasan</h3>

<ul>
  <li>$2 \leq N \leq 1000$</li>
  <li>$-1 \leq A_{i,j} \leq 10^9$</li>
</ul>

<h3>Subsoal</h3>

<ol>
  <li>
    &nbsp;&nbsp;(5 poin) Hanya berisi kasus uji berikut:<br/>
    $N = 2$;<br/>
    $A = \begin{bmatrix} -1 &amp; 6 \\ 9 &amp; -1 \end{bmatrix}$
  </li>
  <li>&nbsp;&nbsp;(4 poin) $N = 2$</li>
  <li>&nbsp;&nbsp;(7 poin) $A_{i,j} = 0$ atau $A_{i,j} = -1$</li>
  <li>&nbsp;&nbsp;(7 poin) $N \leq 8$; $A_{i,j} \neq -1$</li>
  <li>&nbsp;&nbsp;(7 poin) $N \leq 80$; $A_{i,j} \neq -1$</li>
  <li>&nbsp;&nbsp;(8 poin) $A_{i,j} \neq -1$</li>
  <li>(12 poin) $A_{i,j} = -1$ jika dan hanya jika $i \neq j$; $A_{1, 1} = 0$</li>
  <li>(14 poin) $A_{i,j} = -1$ jika dan hanya jika $i \neq j$</li>
  <li>&nbsp;&nbsp;(8 poin) $N \leq 5$; $A_{i,j} \leq 7$; ada setidaknya satu elemen $A_{i,j}$ yang bernilai $0$.</li>
  <li>(10 poin) $N \leq 100$; $A_{i,j} \leq 100$; ada setidaknya satu elemen $A_{i,j}$ yang bernilai $0$.</li>
  <li>(12 poin) Ada setidaknya satu elemen $A_{i,j}$ yang bernilai $0$.</li>
  <li>&nbsp;&nbsp;(6 poin) Tidak ada batasan tambahan.</li>
</ol>

<h3>Masukan</h3>

<p>
  Masukan diberikan dalam format berikut:
</p>
<pre>
N
A<sub>1,1</sub> A<sub>1,2</sub> &hellip; A<sub>1,N</sub>
A<sub>2,1</sub> A<sub>2,2</sub> &hellip; A<sub>2,N</sub>
︙       ⋱ ︙
A<sub>N,1</sub> A<sub>N,2</sub> &hellip; A<sub>N,N</sub>
</pre>

<h3>Keluaran</h3>

<p>
  Keluarkan sebuah baris berisi sebuah bilangan bulat yang menyatakan banyaknya cara berbeda Pak Dengklek bisa menanam benih-benih tersebut yang memenuhi syarat, modulo $1\,000\,000\,007$.
  Jika terdapat tak hingga banyaknya cara berbeda, keluarkan <code>-1</code>.
</p>

<h3>Contoh Masukan 1</h3>

<pre>
3
-1 0 -1
4 -1 7
3 -1 -1
</pre>

<h3>Contoh Keluaran 1</h3>

<pre>
4
</pre>

<h3>Penjelasan Contoh 1</h3>

<p>
  Berikut adalah salah satu cara menanam benih yang memenuhi.
</p>
<p style="text-align: center;">
  <img src="render/sawah1.png" style="width: 200px;"/>
</p>
<p>
  Hujan bisa menghujani lahan dalam $6$ cara berbeda.
  Jika Pak Dengklek menanam benihnya mengikuti ilustrasi di atas, bagaimanapun hujan menghujani lahannya, total banyaknya benih yang tumbuh menjadi tanaman dewasa selalu $10$.
</p>
<p>
  <img src="render/sawah2.png" style=" width: 100%;"/>
</p>

<h3>Contoh Masukan 2</h3>

<pre>
2
-1 1
2 -1
</pre>

<h3>Contoh Keluaran 2</h3>

<pre>
4
</pre>

<h3>Penjelasan Contoh 2</h3>

<p>
  Berikut adalah $4$ cara berbeda untuk menanam benih yang memenuhi syarat.
</p>
<p>
  <img src="render/sawah3.png" style="width: 100%; max-width: 500px;"/>
</p>

<h3>Contoh Masukan 3</h3>

<pre>
2
-1 -1
-1 -1
</pre>

<h3>Contoh Keluaran 3</h3>

<pre>
-1
</pre>

<h3>Penjelasan Contoh 3</h3>

<p>
  Terdapat tak hingga banyaknya cara berbeda untuk menanam benih yang memenuhi syarat, sehingga Anda perlu mengeluarkan <code>-1</code>.
</p>

<h3>Contoh Masukan 4</h3>

<pre>
2
2 6
5 265
</pre>

<h3>Contoh Keluaran 4</h3>

<pre>
0
</pre>

<h3>Penjelasan Contoh 4</h3>

<p>
  Tidak ada cara menanam benih yang memenuhi.
</p>
